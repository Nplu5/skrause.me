---
title: Invariants
published: true
author: Simon Krause
summary: A short summary
---

# Today I learned about Invariants

According to wikipedia a "invariant is a statement, that holds true over the execution of certain
program instructions. It is therefore ture **before** and **after** these commands, it is therefore
not variable, i.e. invariant." In JavaScript invariant can be used to guard a certain part of code.
A invariant function call is generally speaking an abstraction of the following piece of code:

```javascript
function getValue(input) {
  const hasValue = input?.value || typeof input.value === "string"

  if (hasValue) {
    return input.value
  }
  console.log("Input is invalid")
  throw new Error("Input is invalid")
}
```

Thus the above code rewritten with an invariant would look like this:

```javascript
function getValue(input) {
  const hasValue = input?.value || typeof input.value === "string"

  invariant(hasValue), "Property value is required."

  return input.value
}
```

Invariants can be used when asserting that an object returned from an API matches the expected
shape.
